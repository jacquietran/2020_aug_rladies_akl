---
title: "Reproducible reports in R Markdown"
author: "Jacquie Tran | @jacquietran | 18 Aug 2020"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: xaringan-themer.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
---

```{r setup, include=FALSE}

options(htmltools.dir.version = FALSE)

# Load libraries
library(xaringanthemer)
library(paletteer)

```

```{r xaringan-themer, include=FALSE, warning=FALSE}

style_duo_accent_inverse(
  primary_color = "#A7DBD8",
  secondary_color = "#FF847C"
)
```

class: inverse, center, middle

# From academia to industry

---
class: right, bottom
background-image: url(https://raw.githubusercontent.com/jacquietran/2020_aug_rladies_akl/master/images/andrew-petrischev-X03NgRx9f6A-unsplash.jpg)
background-size: 35%

.small[
Image credit: [Andrew Petrischev](https://unsplash.com/photos/X03NgRx9f6A)
]

---
class: right, bottom
background-image: url(https://raw.githubusercontent.com/jacquietran/2020_aug_rladies_akl/master/images/emil-widlund-ZtI4l8EvyUw-unsplash.jpg)
background-size: 35%

Image credit: [Emil Widlund](https://unsplash.com/photos/ZtI4l8EvyUw)

---
class: inverse, center, middle

# What makes a report reproducible?

---
class: middle

> "Statisticians write a lot of reports, describing the results of data analyses.
>
> It’s best if such reports are fully reproducible: that **the data and code are available**, and that there’s a **clear and automatic path from data and code to the final report**."
> 
> Karl Broman | https://kbroman.org/Tools4RR/assets/lectures/03_knitr_Rmd_withnotes.pdf

---

## Four facets of reproducibility

The Carpentries, [Reproducible Research with R](https://datacarpentry.org/rr-intro/01-introduction/index.html)

--

1. Documentation

--

2. Organisation

--

3. Automation

--

4. Dissemination

---
class: inverse, center, middle

## R Markdown for
# Documentation

---

## Document as you go!

![](https://raw.githubusercontent.com/jacquietran/2020_aug_rladies_akl/master/images/penguins_example_screenshot_01.PNG)

[Live demo of HTML output](https://jacquietran.github.io/2020_aug_rladies_akl/penguins_example.html)

---

## Show your "working out"

```{r knitr_options, echo = TRUE, eval = FALSE}

knitr::opts_chunk$set(echo = TRUE)

```

--

[Live demo of HTML output](https://jacquietran.github.io/2020_aug_rladies_akl/penguins_example_echoed.html)

---
class: inverse, center, middle

## R Markdown for
# Organisation

---

## Source scripts into an R Markdown file

```{r code_inline, echo = TRUE, eval = FALSE}

# Install the {ggplot2} package if you need to:
# install.packages("ggplot2)

# Load ggplot2 for plotting
library(ggplot2)

# Make a plot using the penguins data
p <- ggplot(
  data = penguins,
  aes(x = body_mass_g, y = species, colour = species))
p <- p + geom_boxplot(width = 0.5, size = 1)
p <- p + geom_jitter(height = 0.2, alpha = 0.5, size = 3)

# Display the plot
p

```

Store this code in a separate script file, then source the script into Rmd!

---

## Source scripts into an R Markdown file

![](https://raw.githubusercontent.com/jacquietran/2020_aug_rladies_akl/master/images/penguins_example_screenshot_03.PNG)

```{r code_sourced, echo = TRUE, eval = FALSE}

source(here::here("plot_penguins.R"))

```

---
class: inverse, center, middle

## R Markdown for
# Automation

---

## Documented routines for tidying data


---
class: inverse, center, middle

## R Markdown for
# Dissemination

---

## Rmd: One file format, many outputs!



---

## Useful links

[R Markdown articles from R Studio](https://rmarkdown.rstudio.com/articles.html)

Yihui Xie, J.J. Allaire, & Garrett Grolemund, [R Markdown: The Definitive Guide](https://bookdown.org/yihui/rmarkdown/)

Emily Riederer, [R Markdown Driven Development](https://emilyriederer.netlify.app/post/rmarkdown-driven-development/)

Tom Mock:

- The Mockup Blog, [How I share knowledge around R Markdown](https://themockup.blog/posts/2020-07-25-meta-rmarkdown/)
- [Higher, further, faster with marvelous R Markdown](https://bit.ly/marvelRMD), presented at the 2020 New York R Conference

*****

These slides: [jacquietran.github.io/2020_aug_rladies_akl/]()
